# 登录与权限

Just-data支持登录与用户权限区分。

## 登录

如果需要使用登录，需要添加 __登录操作项__。

登录操作项需要使用特殊关键词用于服务识别，包括了以下参数：

| 参数名   | 参数值                                          |
|-------|----------------------------------------------|
| label | special                                      |
| api   | login                                        |
| sql   | SELECT 返回 @{account} 对应的密钥，@{account}是客户端的传参 |

例如：

```xml
<items label="special">
    <item name="获取用户密钥">
        <api>login</api>
        <method>GET</method>
        <sql>SELECT password FROM t_user WHERE account = @{account}</sql>
    </item>
</items>
```

随后服务会生成一个特殊的接口：`ip:port/api/public/login`，需要的参数为：

```json
{
  "account": 2873,
  "key": "password"
}
```

## 权限

配置权限需要先实现登录操作项，随后实现权限操作项。

如同登录操作项一样，权限操作项同样需要使用特殊关键词用于服务识别，包括了以下参数：

| 参数名   | 参数值                           |
|-------|-------------------------------|
| label | special                       |
| api   | permission                    |
| sql   | SELECT 返回 @{account} 的权限key列表 |

例如：

```xml
<items label="special">
    <item name="获取用户权限列表">
        <api>permission</api>
        <method>GET</method>
        <sql>SELECT 'key' FROM t_permission WHERE account = @{account}</sql>
    </item>
</items>
```

此时与登录操作项不同，权限操作项并不会生成接口。


